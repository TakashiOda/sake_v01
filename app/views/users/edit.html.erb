<div class="profile-form">
  <h2>プロフィール編集</h2>
  <div class="form-fields">
    <%= form_with(model: @user, local: true) do |f| %>
      <div class="field image">
        <% if @user.profile_image? %>
          <%= image_tag @user.profile_image.url, id: :image_prev %><br />
          <label for="user_image" id="user_image_btn">
            <i class="fas fa-camera"></i>
            <%= f.file_field :profile_image, id: :user_image %>
          </label>
        <% else %>
          <%= image_tag "user_image_default.jpg", id: :image_prev %><br />
          <label for="user_image" id="user_image_btn">
            <i class="fas fa-camera"></i>
            <%= f.file_field :profile_image, id: :user_image %>
          </label>
        <% end %>
      </div>

      <div class="field">
        <%= f.label :ユーザー名 %><br />
        <%= f.text_field :username %>
      </div>

      <div class="field text">
        <%= f.label :メールアドレス %><br />
        <%= f.text_field :email %>
      </div>
      <div class="field text">
        <%= f.label :プロフィール（150字以内） %><span id="profile_count">あと<span class="count"></span>文字</span><br />
        <%= f.text_area :profile_text, id: :profile_text %>
      </div>
      <div class="field text" id="profile_edit_btn">
        <%= f.submit "変更を保存" %>
      </div>
    <% end %>
  </div>
  <div id="user_destroy_btn">
    <%= link_to "退会する", user_path(@user), method: :delete, data: { confirm: '本当に退会しますか？' } %>
  </div>
</div>